# JWT Signing Algorithm Benchmark

A Java-based benchmark suite that measures signing and verification performance across 26 JWT algorithms using the FusionAuth JWT library.

## Quick Start

```bash
mvn compile exec:java
```

Results will be output to the console and saved as CSV files in the `results/` directory.

## Requirements

- Java 11 or higher
- Maven 3.6+

## Test Payload

The benchmark uses a fixed JWT payload for all tests:

```json
{
  "iss": "acme.com",
  "sub": "29ac0c18-0b4a-42cf-82fc-03d570318a1d",
  "iat": 1485137384,
  "exp": 1485140984,
  "applicationId": "79103734-97ab-4d1a-af37-e006d05d2952",
  "roles": []
}
```

- **Issuer:** acme.com
- **Subject:** UUID
- **Issued At:** Jan 23, 2017 04:16:24 UTC
- **Expiration:** Jan 23, 2017 04:22:24 UTC

## What It Benchmarks

This benchmark measures two operations for each algorithm:

1. **Signing** - Encoding a JWT with a private key
2. **Verification** - Decoding and verifying a JWT with a public key

Each test runs 100 warmup iterations followed by 1000 measured iterations. Results include average, min, max, p95, and p99 latency in microseconds.

## Algorithms Tested

### HMAC (Symmetric)
| Algorithm | Key Size |
|-----------|----------|
| HS256 | 256 bits |
| HS384 | 384 bits |
| HS512 | 512 bits |

### RSA (PKCS#1)
| Algorithm | Key Sizes |
|-----------|-----------|
| RS256 | 2048, 3072, 4096 bits |
| RS384 | 2048, 3072, 4096 bits |
| RS512 | 2048, 3072, 4096 bits |

### RSA-PSS (Probabilistic Signature Scheme)
| Algorithm | Key Sizes |
|-----------|-----------|
| PS256 | 2048, 3072, 4096 bits |
| PS384 | 2048, 3072, 4096 bits |
| PS512 | 2048, 3072, 4096 bits |

### ECDSA (Elliptic Curve)
| Algorithm | Curve | Key Size |
|-----------|-------|----------|
| ES256 | P-256 | 256 bits |
| ES384 | P-384 | 384 bits |
| ES512 | P-521 | 521 bits |

### EdDSA (Ed25519)
| Algorithm | Key Size |
|-----------|----------|
| Ed25519 | 25519 bits |

## Output Files

The benchmark generates two CSV files in the `results/` directory:

- `signing_benchmarks.csv` - Signing performance metrics
- `verification_benchmarks.csv` - Verification performance metrics

Both include: algorithm, key size, avg_us, min_us, max_us, p95_us, p99_us (and token bytes for signing).

## Sample Results Summary

| Rank | Algorithm | Signing (µs) | Verification (µs) |
|------|-----------|--------------|-------------------|
| 1 | HS512 | 21.73 | 17.89 |
| 2 | HS384 | 38.00 | 31.56 |
| 3 | HS256 | 54.05 | 65.32 |
| 4 | ES256 | 926.12 | 1,601.58 |
| 5 | Ed25519 | 1,052.20 | 964.69 |

## Key Findings

1. **HMAC dominates signing** - 17-514x faster than asymmetric algorithms
2. **RSA verification is cheaper than signing** - 18-60x faster
3. **Key size impacts RSA significantly** - Doubling key size (2048->4096) increases signing by ~8x
4. **Ed25519 competitive** - Comparable to ES256 for signing, faster for verification

## Building

```bash
# Compile the project
mvn compile

# Run the benchmark
mvn exec:java

# Create uber-jar
mvn package
```

## Tech Stack

- **Language:** Java 11
- **Build Tool:** Maven
- **JWT Library:** FusionAuth JWT v6.0.0

## License

MIT License

## Credits

> This code was generated by MiniMax M2.1 Free
